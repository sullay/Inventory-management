webpackJsonp([1],{"17Lg":function(e,t){},"6ff5":function(e,t){},A59b:function(e,t){},"BZ/A":function(e,t){},BjKf:function(e,t){},Dfbh:function(e,t){},GDQ8:function(e,t){},"Il/y":function(e,t){},"L/fM":function(e,t){},MJrZ:function(e,t){},NFj0:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},l,!1,function(e){a("QiAk")},null,null).exports,i=a("zL8q"),r=a.n(i),s=(a("tvR6"),a("/ocq")),c=a("mtWM"),d=a.n(c),u={methods:{logout:function(){d.a.post("http://localhost:4001/logout").then(function(e){window.location.href="/"})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:3}},[a("span",[e._v("仓库管理系统")])]),e._v(" "),a("el-col",{attrs:{span:3,offset:18}},[a("button",{staticClass:"button button-large button-plain button-borderless",on:{click:e.logout}},[a("i",{staticClass:"fa fa-power-off   "})])])],1)},staticRenderFns:[]};var m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-menu",{staticClass:"el-menu-vertical-demo"},[a("el-menu-item",{attrs:{index:"0"}},[a("router-link",{attrs:{to:"/home"}},[e._v("首页")])],1),e._v(" "),e._l(e.router,function(t){return a("el-submenu",{key:t.meta.index,attrs:{index:t.meta.index}},[a("template",{slot:"title"},[a("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return a("el-menu-item",{key:t.meta.index,attrs:{index:t.meta.index}},[a("router-link",{attrs:{to:t.path}},[e._v(e._s(t.name))])],1)})],2)})],2)],1)},staticRenderFns:[]};var f="http://localhost:3001",h=function(e,t){return d()({method:"post",url:""+f+e,data:t,headers:{"Content-Type":"application/json"}})},b=function(e,t){return d()({method:"put",url:""+f+e,data:t,headers:{"Content-Type":"application/json"}})},g=function(e,t){return d()({method:"delete",url:""+f+e,data:t,headers:{"Content-Type":"application/json"}})},v=function(e,t){return d()({method:"get",params:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},url:""+f+e})},y={data:function(){return{totalElements:null,data:{page:0,size:10},stocks:[],num:0}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/stockAPI/warning",this.data).then(function(t){e.stocks=t.data.extend.pageInfo.content,e.num=t.data.extend.pageInfo.totalElements,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()}},mounted:function(){this.init()}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-badge",{attrs:{value:e.num}},[a("el-tag",{attrs:{type:"danger"}},[e._v("库存预警")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.stocks,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"goods.code",label:"商品编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.name",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"warehouse.name",label:"仓库名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"number",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.min",label:"最小库存"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.max",label:"最大库存"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var x={components:{Header:a("VU/8")(u,p,!1,function(e){a("k0ax")},"data-v-792e032e",null).exports,SideBar:a("VU/8")({data:function(){return{router:[]}},created:function(){for(var e in this.$router.options.routes)void 0!==this.$router.options.routes[e].children&&this.router.push(this.$router.options.routes[e])}},m,!1,function(e){a("mwXi")},"data-v-45ef760c",null).exports,HomeMain:a("VU/8")(y,_,!1,function(e){a("NZC9")},"data-v-3175a50d",null).exports}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("el-header",[t("Header")],1),this._v(" "),t("el-container",[t("el-aside",{attrs:{width:"160px"}},[t("div",{staticClass:"noScroll"},[t("SideBar")],1)]),this._v(" "),t("el-main",["/home"==this.$route.path?t("HomeMain"):t("router-view")],1)],1)],1)},staticRenderFns:[]};var I=a("VU/8")(x,k,!1,function(e){a("wtaa")},"data-v-5f35d676",null).exports,w={methods:{edit:function(e){this.document=e.row,this.dialogVisible=!0},init:function(){var e=this;v("/documentsAPI/all","").then(function(t){e.documents=t.data.extend.pageInfo}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},confirm:function(){var e=this;""===this.document.prefix?this.$message.error("字头不能为空"):b("/documentsAPI/",this.document).then(function(t){e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改失败")})},close:function(){this.init(),this.dialogVisible=!1}},data:function(){return{documents:[],dialogVisible:!1,document:{id:"",name:"",prefix:""}}},mounted:function(){this.init()}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{placeholder:e.document.name,autofocus:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.document.prefix,callback:function(t){e.$set(e.document,"prefix",t)},expression:"document.prefix"}}),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.documents,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"name",label:"单据名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"prefix",label:"单据字头"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"字头修改",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")])]}}])})],1)],1)},staticRenderFns:[]};var O=a("VU/8")(w,$,!1,function(e){a("rHWB")},"data-v-5ed4154c",null).exports,E={methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/unitAPI/all",this.data).then(function(t){e.units=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},add:function(){this.dialogVisible=!0},close:function(){this.dialogVisible=!1},confirm:function(){var e=this;h("/unitAPI/",this.unit).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("新增单位失败，单位代号不能重复")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){g("/unitAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},currentChange:function(e){this.data.page=e-1,this.jump()}},data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},units:[],unit:{id:0,code:"",description:""}}},mounted:function(){this.init()}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"新增计量单位"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.unit,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"库存单位代号:"}},[a("el-input",{attrs:{placeholder:"请输入库存单位代号",autofocus:""},model:{value:e.unit.code,callback:function(t){e.$set(e.unit,"code",t)},expression:"unit.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"库存单位说明:"}},[a("el-input",{attrs:{placeholder:"请输入库存单位说明"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.unit.description,callback:function(t){e.$set(e.unit,"description",t)},expression:"unit.description"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.add}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.units,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"code",label:"库存单位代号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"description",label:"库存单位说明"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"删除",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var V=a("VU/8")(E,P,!1,function(e){a("A59b")},"data-v-08f660b5",null).exports,A={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},warehouses:[],warehouse:{id:0,code:"",name:"",place:"",extend:""},isAdd:!0}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/warehouseAPI/all",this.data).then(function(t){e.warehouses=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},add:function(){this.isAdd=!0,this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.jump()},confirm:function(){var e=this;this.warehouse.id=0,h("/warehouseAPI/",this.warehouse).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("新增仓库失败，仓库代号不能重复")})},edit_confirm:function(){var e=this;b("/warehouseAPI/",this.warehouse).then(function(t){e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改仓库信息失败，仓库代号不能重复")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){g("/warehouseAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.isAdd=!1,this.warehouse=e.row,this.dialogVisible=!0}},mounted:function(){this.init()}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"仓库信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.warehouse,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"仓库代号:"}},[a("el-input",{attrs:{placeholder:"请输入仓库代号",autofocus:""},model:{value:e.warehouse.code,callback:function(t){e.$set(e.warehouse,"code",t)},expression:"warehouse.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仓库名称:"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.warehouse.name,callback:function(t){e.$set(e.warehouse,"name",t)},expression:"warehouse.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仓库地点:"}},[a("el-input",{attrs:{placeholder:"请输入仓库地点"},model:{value:e.warehouse.place,callback:function(t){e.$set(e.warehouse,"place",t)},expression:"warehouse.place"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注:"}},[e.isAdd?a("el-input",{attrs:{placeholder:"请输入仓库备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.warehouse.extend,callback:function(t){e.$set(e.warehouse,"extend",t)},expression:"warehouse.extend"}}):a("el-input",{attrs:{placeholder:"请输入仓库备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.edit_confirm(t)}},model:{value:e.warehouse.extend,callback:function(t){e.$set(e.warehouse,"extend",t)},expression:"warehouse.extend"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),e.isAdd?a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.add}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.warehouses,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"code",label:"仓库代号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"仓库名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"place",label:"仓库地点"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var R=a("VU/8")(A,D,!1,function(e){a("BjKf")},"data-v-e093b46a",null).exports,C={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},goodsTypes:[],goodsType:{id:0,code:"",name:"",codingPrefix:""},isAdd:!0}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/goodsTypeAPI/all",this.data).then(function(t){e.goodsTypes=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},add:function(){this.isAdd=!0,this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.jump()},confirm:function(){var e=this;this.goodsType.id=0,h("/goodsTypeAPI/",this.goodsType).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("新增商品种类失败，请检查商品种类代号与编码前缀是否重复")})},edit_confirm:function(){var e=this;b("/goodsTypeAPI/",this.goodsType).then(function(t){e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改商品种类信息失败，请检查商品种类代号与编码前缀是否重复")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){g("/goodsTypeAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.isAdd=!1,this.goodsType=e.row,this.dialogVisible=!0}},mounted:function(){this.init()}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"商品种类信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.goodsType,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品种类代号:"}},[a("el-input",{attrs:{placeholder:"请输入商品种类代号",autofocus:""},model:{value:e.goodsType.code,callback:function(t){e.$set(e.goodsType,"code",t)},expression:"goodsType.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品种类名称:"}},[a("el-input",{attrs:{placeholder:"请输入商品种类名称"},model:{value:e.goodsType.name,callback:function(t){e.$set(e.goodsType,"name",t)},expression:"goodsType.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码前缀:"}},[e.isAdd?a("el-input",{attrs:{placeholder:"请输入编码前缀"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.goodsType.codingPrefix,callback:function(t){e.$set(e.goodsType,"codingPrefix",t)},expression:"goodsType.codingPrefix"}}):a("el-input",{attrs:{placeholder:"请输入编码前缀"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.edit_confirm(t)}},model:{value:e.goodsType.codingPrefix,callback:function(t){e.$set(e.goodsType,"codingPrefix",t)},expression:"goodsType.codingPrefix"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),e.isAdd?a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.add}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodsTypes,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"code",label:"商品种类代号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"商品种类名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"codingPrefix",label:"编码前缀"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var j=a("VU/8")(C,T,!1,function(e){a("NfyS")},"data-v-23d74656",null).exports,z={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},allGoods:[],goods:{id:0,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},isAdd:!0,goodsTypes:[],units:[]}},methods:{init:function(){this.data.page=0,this.jump()},search:function(){var e=this;""!==this.goods.name?this.data.goodsName=this.goods.name:this.data.goodsName="",""!==this.goods.goodsType.id?this.data.goodsTypeId=this.goods.goodsType.id:this.data.goodsTypeId=0,""!==this.goods.brand?this.data.brand=this.goods.brand:this.data.brand="",v("/goodsAPI/search",this.data).then(function(t){e.allGoods=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},jump:function(){var e=this;v("/goodsAPI/all",this.data).then(function(t){e.allGoods=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/goodsTypeAPI/all_NoPage").then(function(t){e.goodsTypes=t.data.extend.pageInfo}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/unitAPI/all_NoPage").then(function(t){e.units=t.data.extend.pageInfo}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},add:function(){this.isAdd=!0,this.goods={id:0,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.jump()},confirm:function(){var e=this;this.goods.min>this.goods.max?this.$message.error("商品最小数量不能大于最大数量"):(this.goods.id=0,h("/goodsAPI/",this.goods).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("新增商品失败，商品编号不能重复")}))},edit_confirm:function(){var e=this;this.goods.min>this.goods.max?this.$message.error("商品最小数量不能大于最大数量"):b("/goodsAPI/",this.goods).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改商品失败，商品编号不能重复")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){g("/goodsAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.isAdd=!1,this.goods=e.row,this.dialogVisible=!0}},mounted:function(){this.init()}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"商品信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.goods,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"商品编号:"}},[a("el-input",{attrs:{placeholder:"请输入商品编号",autofocus:""},model:{value:e.goods.code,callback:function(t){e.$set(e.goods,"code",t)},expression:"goods.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品名称:"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.goods.name,callback:function(t){e.$set(e.goods,"name",t)},expression:"goods.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品规格:"}},[a("el-input",{attrs:{placeholder:"请输入商品规格"},model:{value:e.goods.specification,callback:function(t){e.$set(e.goods,"specification",t)},expression:"goods.specification"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品种类:"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.goods.goodsType.id,callback:function(t){e.$set(e.goods.goodsType,"id",t)},expression:"goods.goodsType.id"}},e._l(e.goodsTypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"库存单位:"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.goods.unit.id,callback:function(t){e.$set(e.goods.unit,"id",t)},expression:"goods.unit.id"}},e._l(e.units,function(e){return a("el-option",{key:e.id,attrs:{label:e.code,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌:"}},[a("el-input",{attrs:{placeholder:"请输入品牌"},model:{value:e.goods.brand,callback:function(t){e.$set(e.goods,"brand",t)},expression:"goods.brand"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最大数量:"}},[a("el-input",{attrs:{placeholder:"请输入最大数量"},model:{value:e.goods.max,callback:function(t){e.$set(e.goods,"max",e._n(t))},expression:"goods.max"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最小数量:"}},[a("el-input",{attrs:{placeholder:"请输入最小数量"},model:{value:e.goods.min,callback:function(t){e.$set(e.goods,"min",e._n(t))},expression:"goods.min"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品单价:"}},[e.isAdd?a("el-input",{attrs:{placeholder:"请输入商品单价"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.goods.price,callback:function(t){e.$set(e.goods,"price",e._n(t))},expression:"goods.price"}}):a("el-input",{attrs:{placeholder:"请输入商品单价"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.edit_confirm(t)}},model:{value:e.goods.price,callback:function(t){e.$set(e.goods,"price",e._n(t))},expression:"goods.price"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),e.isAdd?a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-form",[a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"success"},on:{click:e.add}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:5,offset:5}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.goods.name,callback:function(t){e.$set(e.goods,"name",t)},expression:"goods.name"}},[a("template",{slot:"prepend"},[e._v("商品名称")])],2)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品类型",clearable:""},model:{value:e.goods.goodsType.id,callback:function(t){e.$set(e.goods.goodsType,"id",t)},expression:"goods.goodsType.id"}},e._l(e.goodsTypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"请输入品牌"},model:{value:e.goods.brand,callback:function(t){e.$set(e.goods,"brand",t)},expression:"goods.brand"}},[a("template",{slot:"prepend"},[e._v("品牌")])],2)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.allGoods,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"code",label:"商品编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"specification",label:"商品规格"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goodsType.name",label:"商品种类"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"unit.code",label:"库存单位"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"brand",label:"品牌"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"price",label:"商品单价"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var M=a("VU/8")(z,N,!1,function(e){a("XUx2")},"data-v-694a8cf1",null).exports,L=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var l=t.getDate();l=l<10?"0"+l:l;var o=t.getHours();o=o<10?"0"+o:o;var i=t.getMinutes(),r=t.getSeconds();return a+"-"+n+"-"+l+" "+o+":"+(i=i<10?"0"+i:i)+":"+(r=r<10?"0"+r:r)},F=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var l=t.getDate();return a+"-"+n+"-"+(l=l<10?"0"+l:l)},S={data:function(){return{deliveryDialogVisible:!1,receiptDialogVisible:!1,dialogVisible:!1,totalElements:null,data:{page:0,size:10},purchaseOrders:[],purchaseOrder:{purchaseInfos:[]},isAdd:!0,prefix:"",receiptPrefix:"",deliveryPrefix:"",goodsAll:[],warehouses:[],stocks:[],goods:{id:0,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},purchaseReceipt:{purchaseOrder:{purchaseInfos:[]},waters:[]},purchaseDelivery:{purchaseOrder:{purchaseInfos:[]},waters:[],receivable:{id:0,code:"",amountReceived:0,amount:0,state:"",extend:"",date:0,dealer:""}}}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/purchaseOrderAPI/all",this.data).then(function(t){e.purchaseOrders=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"采购订单"}).then(function(t){e.prefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"采购入库单"}).then(function(t){e.receiptPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"采购退货单"}).then(function(t){e.deliveryPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/goodsAPI/all_NoPage").then(function(t){e.goodsAll=t.data.extend.pageInfo}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/warehouseAPI/all_NoPage").then(function(t){e.warehouses=t.data.extend.pageInfo}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},getWarehouse:function(e){var t=this;v("/stockAPI/listByGoods",{gid:e}).then(function(e){t.stocks=e.data.extend.pageInfo}).catch(function(e){console.log(e),t.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},add:function(){this.isAdd=!0,this.purchaseOrder={purchaseInfos:[{goods:{id:null}}]},this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.jump()},Rclose:function(){this.receiptDialogVisible=!1,this.jump()},Dclose:function(){this.deliveryDialogVisible=!1,this.jump()},confirm:function(){var e=this;this.purchaseOrder.id=0,this.purchaseOrder.date=new Date,this.purchaseOrder.state="INCOMPLETE",this.purchaseOrder.payable={id:0,code:this.prefix+this.purchaseOrder.code,amountPaid:0,amount:0,state:"INCOMPLETE",extend:this.purchaseOrder.extend,date:new Date,dealer:this.purchaseOrder.supplier},this.purchaseOrder.purchaseInfos.forEach(function(t){e.purchaseOrder.payable.amount+=t.price*t.number}),h("/purchaseOrderAPI/",this.purchaseOrder).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("新增采购订单失败")})},edit_confirm:function(){var e=this;this.purchaseOrder.payable.code=this.prefix+this.purchaseOrder.code,this.purchaseOrder.payable.extend=this.purchaseOrder.extend,this.purchaseOrder.payable.dealer=this.purchaseOrder.supplier,this.purchaseOrder.payable.amount=0,this.purchaseOrder.purchaseInfos.forEach(function(t){e.purchaseOrder.payable.amount+=t.price*t.number}),this.purchaseOrder.payable.amountPaid>=this.purchaseOrder.payable.amount?this.purchaseOrder.payable.state="COMPLETE":this.purchaseOrder.payable.state="INCOMPLETE",this.purchaseOrder.state="COMPLETE",this.purchaseOrder.purchaseInfos.forEach(function(t){t.arrivals<t.number&&(e.purchaseOrder.state="INCOMPLETE")}),b("/purchaseOrderAPI/",this.purchaseOrder).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改采购订单失败")})},receipt_confirm:function(){var e=this;this.purchaseReceipt.date=new Date,this.purchaseReceipt.waters=[],this.purchaseReceipt.purchaseOrder.purchaseInfos.forEach(function(t){t.arrivals+=t.num,e.purchaseReceipt.waters.push({documentName:"采购入库单",documentCode:e.receiptPrefix+e.purchaseReceipt.code,date:e.purchaseReceipt.date,receiptNum:t.num,deliveryNum:0,stock:{goods:{id:t.goods.id,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},warehouse:{id:t.wid,code:"",name:"",place:"",extend:""}}})}),this.purchaseReceipt.purchaseOrder.state="COMPLETE",this.purchaseReceipt.purchaseOrder.purchaseInfos.forEach(function(t){t.arrivals<t.number&&(e.purchaseReceipt.purchaseOrder.state="INCOMPLETE")}),b("/purchaseOrderAPI/",this.purchaseReceipt.purchaseOrder).then(function(t){h("/purchaseReceiptAPI/",e.purchaseReceipt).then(function(t){e.jump(),e.receiptDialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("创建采购入库单失败,请检查单号是否重复")})}).catch(function(t){console.log(t),e.$message.error("修改采购订单失败，请检查单号是否重复")})},delivery_confirm:function(){var e=this;this.purchaseDelivery.receivable={id:"",code:this.deliveryPrefix+this.purchaseDelivery.code,amountReceived:0,amount:0,state:"INCOMPLETE",extend:this.purchaseDelivery.extend,date:new Date,dealer:this.purchaseDelivery.purchaseOrder.supplier},this.purchaseDelivery.date=new Date,this.purchaseDelivery.waters=[],this.purchaseDelivery.purchaseOrder.purchaseInfos.forEach(function(t){e.purchaseDelivery.receivable.amount+=t.price*t.num,t.arrivals-=t.num,e.purchaseDelivery.waters.push({documentName:"采购退货单",documentCode:e.deliveryPrefix+e.purchaseDelivery.code,date:e.purchaseDelivery.date,receiptNum:0,deliveryNum:t.num,stock:{id:t.stock,goods:{id:0,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},warehouse:{id:0,code:"",name:"",place:"",extend:""}}})}),this.purchaseDelivery.purchaseOrder.state="COMPLETE",this.purchaseDelivery.purchaseOrder.purchaseInfos.forEach(function(t){t.arrivals<t.number&&(e.purchaseDelivery.purchaseOrder.state="INCOMPLETE")}),b("/purchaseOrderAPI/",this.purchaseDelivery.purchaseOrder).then(function(t){h("/purchaseDeliveryAPI/",e.purchaseDelivery).then(function(t){e.jump(),e.deliveryDialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("创建采购退货单失败,请检查单号是否重复")})}).catch(function(t){console.log(t),e.$message.error("修改采购订单失败，请检查单号是否重复")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){g("/purchaseOrderAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.isAdd=!1,this.purchaseOrder=e.row,this.dialogVisible=!0},receipt:function(e){this.purchaseReceipt.purchaseOrder=e.row,this.receiptDialogVisible=!0},delivery:function(e){this.purchaseDelivery.purchaseOrder=e.row,this.deliveryDialogVisible=!0},formatter:function(e,t,a){return F(a)},code_formatter:function(e,t,a){return this.prefix+a},stateFormatter:function(e,t,a){return"INVALID"===a?"报废":"INCOMPLETE"===a?"未完成":"已完成"},removepurchaseInfo:function(e){var t=this.purchaseOrder.purchaseInfos.indexOf(e);-1!==t&&this.purchaseOrder.purchaseInfos.splice(t,1)},addpurchaseInfo:function(){this.purchaseOrder.purchaseInfos.push({goods:{id:null}})}},mounted:function(){this.init()}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.deliveryDialogVisible,width:"50%","before-close":e.Dclose,title:"采购退货单"},on:{"update:visible":function(t){e.deliveryDialogVisible=t}}},[a("el-form",{attrs:{model:e.purchaseDelivery,"label-width":"100px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购订单编号:"}},[a("el-input",{attrs:{placeholder:"请输入采购订单编号",disabled:""},model:{value:e.purchaseDelivery.purchaseOrder.code,callback:function(t){e.$set(e.purchaseDelivery.purchaseOrder,"code",t)},expression:"purchaseDelivery.purchaseOrder.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.prefix))])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购退货单编号:"}},[a("el-input",{attrs:{placeholder:"请输入采购退货单编号",autofocus:""},model:{value:e.purchaseDelivery.code,callback:function(t){e.$set(e.purchaseDelivery,"code",t)},expression:"purchaseDelivery.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.deliveryPrefix))])],2)],1)],1)],1),e._v(" "),e._l(e.purchaseDelivery.purchaseOrder.purchaseInfos,function(t){return a("div",{key:t.id},[a("el-form-item",{attrs:{label:"商品信息:"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品",disabled:""},model:{value:t.goods.id,callback:function(a){e.$set(t.goods,"id",a)},expression:"purchaseInfo.goods.id"}},e._l(e.goodsAll,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择到货日期",disabled:""},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"purchaseInfo.date"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入订单数量",disabled:""},model:{value:t.number,callback:function(a){e.$set(t,"number",e._n(a))},expression:"purchaseInfo.number"}},[a("template",{slot:"prepend"},[e._v("订单数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入到货数量",disabled:""},model:{value:t.arrivals,callback:function(a){e.$set(t,"arrivals",e._n(a))},expression:"purchaseInfo.arrivals"}},[a("template",{slot:"prepend"},[e._v("到货数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择仓库"},nativeOn:{click:function(a){e.getWarehouse(t.goods.id)}},model:{value:t.stock,callback:function(a){e.$set(t,"stock",a)},expression:"purchaseInfo.stock"}},e._l(e.stocks,function(e){return a("el-option",{key:e.id,attrs:{label:e.warehouse.code+"-"+e.warehouse.name+":"+e.number,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入退货数量"},model:{value:t.num,callback:function(a){e.$set(t,"num",e._n(a))},expression:"purchaseInfo.num"}},[a("template",{slot:"prepend"},[e._v("退货数量")])],2)],1)],1)],1)],1)}),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.purchaseDelivery.extend,callback:function(t){e.$set(e.purchaseDelivery,"extend",t)},expression:"purchaseDelivery.extend"}})],1)],2),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.Dclose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.delivery_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.receiptDialogVisible,width:"50%","before-close":e.Rclose,title:"采购入库单"},on:{"update:visible":function(t){e.receiptDialogVisible=t}}},[a("el-form",{attrs:{model:e.purchaseReceipt,"label-width":"100px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购订单编号:"}},[a("el-input",{attrs:{placeholder:"请输入采购订单编号",disabled:""},model:{value:e.purchaseReceipt.purchaseOrder.code,callback:function(t){e.$set(e.purchaseReceipt.purchaseOrder,"code",t)},expression:"purchaseReceipt.purchaseOrder.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.prefix))])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购入库单编号:"}},[a("el-input",{attrs:{placeholder:"请输入采购入库单编号",autofocus:""},model:{value:e.purchaseReceipt.code,callback:function(t){e.$set(e.purchaseReceipt,"code",t)},expression:"purchaseReceipt.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.receiptPrefix))])],2)],1)],1)],1),e._v(" "),e._l(e.purchaseReceipt.purchaseOrder.purchaseInfos,function(t){return a("div",{key:t.id},[a("el-form-item",{attrs:{label:"商品信息:"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品",disabled:""},model:{value:t.goods.id,callback:function(a){e.$set(t.goods,"id",a)},expression:"purchaseInfo.goods.id"}},e._l(e.goodsAll,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择到货日期",disabled:""},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"purchaseInfo.date"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入订单数量",disabled:""},model:{value:t.number,callback:function(a){e.$set(t,"number",e._n(a))},expression:"purchaseInfo.number"}},[a("template",{slot:"prepend"},[e._v("订单数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入到货数量",disabled:""},model:{value:t.arrivals,callback:function(a){e.$set(t,"arrivals",e._n(a))},expression:"purchaseInfo.arrivals"}},[a("template",{slot:"prepend"},[e._v("到货数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入入库数量"},model:{value:t.num,callback:function(a){e.$set(t,"num",e._n(a))},expression:"purchaseInfo.num"}},[a("template",{slot:"prepend"},[e._v("入库数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择仓库"},model:{value:t.wid,callback:function(a){e.$set(t,"wid",a)},expression:"purchaseInfo.wid"}},e._l(e.warehouses,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1)],1)],1)],1)}),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.purchaseReceipt.extend,callback:function(t){e.$set(e.purchaseReceipt,"extend",t)},expression:"purchaseReceipt.extend"}})],1)],2),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.Rclose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.receipt_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"50%","before-close":e.close,title:"采购订单信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.purchaseOrder,"label-width":"100px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购订单编号:"}},[a("el-input",{attrs:{placeholder:"请输入采购订单编号",autofocus:""},model:{value:e.purchaseOrder.code,callback:function(t){e.$set(e.purchaseOrder,"code",t)},expression:"purchaseOrder.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.prefix))])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"供应商名称:"}},[a("el-input",{attrs:{placeholder:"请输入供应商名称"},model:{value:e.purchaseOrder.supplier,callback:function(t){e.$set(e.purchaseOrder,"supplier",t)},expression:"purchaseOrder.supplier"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购员名称:"}},[a("el-input",{attrs:{placeholder:"请输入采购员名称"},model:{value:e.purchaseOrder.buyer,callback:function(t){e.$set(e.purchaseOrder,"buyer",t)},expression:"purchaseOrder.buyer"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.purchaseOrder.extend,callback:function(t){e.$set(e.purchaseOrder,"extend",t)},expression:"purchaseOrder.extend"}})],1)],1)],1),e._v(" "),e._l(e.purchaseOrder.purchaseInfos,function(t){return a("div",{key:t.id},[a("el-form-item",{attrs:{label:"商品信息:"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品"},model:{value:t.goods.id,callback:function(a){e.$set(t.goods,"id",a)},expression:"purchaseInfo.goods.id"}},e._l(e.goodsAll,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择到货日期"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"purchaseInfo.date"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入订单数量"},model:{value:t.number,callback:function(a){e.$set(t,"number",e._n(a))},expression:"purchaseInfo.number"}},[a("template",{slot:"prepend"},[e._v("数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入采购价格"},model:{value:t.price,callback:function(a){e.$set(t,"price",e._n(a))},expression:"purchaseInfo.price"}},[a("template",{slot:"prepend"},[e._v("价格")])],2)],1),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.extend,callback:function(a){e.$set(t,"extend",a)},expression:"purchaseInfo.extend"}},[a("template",{slot:"prepend"},[e._v("备注")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:8}},[a("el-button",{attrs:{type:"danger"},on:{click:function(a){a.preventDefault(),e.removepurchaseInfo(t)}}},[e._v("删除")])],1)],1)],1)],1)}),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){t.preventDefault(),e.addpurchaseInfo(t)}}},[e._v("新增采购信息")])],2),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),e.isAdd?a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.add}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.purchaseOrders,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"code",label:"订单编号",formatter:e.code_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"supplier",label:"供应商名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"buyer",label:"采购员"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"date",label:"单据日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"state",label:"订单状态",formatter:e.stateFormatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.receipt(t)}}},[e._v("入库")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delivery(t)}}},[e._v("退货")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var B=a("VU/8")(S,U,!1,function(e){a("X3tF")},"data-v-d2aab782",null).exports,G={data:function(){return{totalElements:null,data:{page:0,size:10},receipts:[],prefix:"",receiptPrefix:""}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/purchaseReceiptAPI/all",this.data).then(function(t){e.receipts=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"采购订单"}).then(function(t){e.prefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"采购入库单"}).then(function(t){e.receiptPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},formatter:function(e,t,a){return L(a)},code_formatter:function(e,t,a){return this.prefix+a},Rcode_formatter:function(e,t,a){return this.receiptPrefix+a}},mounted:function(){this.init()}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.receipts,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"入库单号",formatter:e.Rcode_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"purchaseOrder.code",label:"采购订单号",formatter:e.code_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var Q=a("VU/8")(G,H,!1,function(e){a("17Lg")},"data-v-69b08863",null).exports,W={data:function(){return{totalElements:null,data:{page:0,size:10},deliverys:[],prefix:"",deliveryPrefix:""}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/purchaseDeliveryAPI/all",this.data).then(function(t){e.deliverys=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"采购订单"}).then(function(t){e.prefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"采购退货单"}).then(function(t){e.deliveryPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},formatter:function(e,t,a){return L(a)},code_formatter:function(e,t,a){return this.prefix+a},Dcode_formatter:function(e,t,a){return this.deliveryPrefix+a}},mounted:function(){this.init()}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.deliverys,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"退货单号",formatter:e.Dcode_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"purchaseOrder.code",label:"采购订单号",formatter:e.code_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var Z=a("VU/8")(W,X,!1,function(e){a("GDQ8")},"data-v-09292bc1",null).exports,J={data:function(){return{deliveryDialogVisible:!1,receiptDialogVisible:!1,dialogVisible:!1,totalElements:null,data:{page:0,size:10},saleOrders:[],saleOrder:{saleInfos:[]},isAdd:!0,prefix:"",receiptPrefix:"",deliveryPrefix:"",goodsAll:[],warehouses:[],stocks:[],goods:{id:0,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},saleReceipt:{saleOrder:{saleInfos:[]},waters:[]},saleDelivery:{saleOrder:{saleInfos:[]},waters:[],receivable:{id:0,code:"",amountReceived:0,amount:0,state:"",extend:"",date:0,dealer:""}}}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/saleOrderAPI/all",this.data).then(function(t){e.saleOrders=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"销售订单"}).then(function(t){e.prefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"销售退货单"}).then(function(t){e.receiptPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"销售出库单"}).then(function(t){e.deliveryPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/goodsAPI/all_NoPage").then(function(t){e.goodsAll=t.data.extend.pageInfo}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/warehouseAPI/all_NoPage").then(function(t){e.warehouses=t.data.extend.pageInfo}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},getWarehouse:function(e){var t=this;v("/stockAPI/listByGoods",{gid:e}).then(function(e){t.stocks=e.data.extend.pageInfo}).catch(function(e){console.log(e),t.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},add:function(){this.isAdd=!0,this.saleOrder={saleInfos:[{goods:{id:null}}]},this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.jump()},Rclose:function(){this.receiptDialogVisible=!1,this.jump()},Dclose:function(){this.deliveryDialogVisible=!1,this.jump()},confirm:function(){var e=this;this.saleOrder.id=0,this.saleOrder.date=new Date,this.saleOrder.state="INCOMPLETE",this.saleOrder.receivable={id:0,code:this.prefix+this.saleOrder.code,amountReceived:0,amount:0,state:"INCOMPLETE",extend:this.saleOrder.extend,date:new Date,dealer:this.saleOrder.customer},this.saleOrder.saleInfos.forEach(function(t){e.saleOrder.receivable.amount+=t.price*t.number}),h("/saleOrderAPI/",this.saleOrder).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("新增采购订单失败")})},edit_confirm:function(){var e=this;this.saleOrder.receivable.code=this.prefix+this.saleOrder.code,this.saleOrder.receivable.extend=this.saleOrder.extend,this.saleOrder.receivable.dealer=this.saleOrder.customer,this.saleOrder.receivable.amount=0,this.saleOrder.saleInfos.forEach(function(t){e.saleOrder.receivable.amount+=t.price*t.number}),this.saleOrder.receivable.amountReceived>=this.saleOrder.receivable.amount?this.saleOrder.receivable.state="COMPLETE":this.saleOrder.receivable.state="INCOMPLETE",this.saleOrder.state="COMPLETE",this.saleOrder.saleInfos.forEach(function(t){t.arrivals<t.number&&(e.saleOrder.state="INCOMPLETE")}),b("/saleOrderAPI/",this.saleOrder).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改采购订单失败")})},receipt_confirm:function(){var e=this;this.saleReceipt.payable={id:"",code:this.receiptPrefix+this.saleReceipt.code,amountPaid:0,amount:0,state:"INCOMPLETE",extend:this.saleReceipt.extend,date:new Date,dealer:this.saleReceipt.saleOrder.customer},this.saleReceipt.date=new Date,this.saleReceipt.waters=[],this.saleReceipt.saleOrder.saleInfos.forEach(function(t){e.saleReceipt.payable.amount+=t.price*t.num,t.shipment-=t.num,e.saleReceipt.waters.push({documentName:"销售退货单",documentCode:e.receiptPrefix+e.saleReceipt.code,date:e.saleReceipt.date,receiptNum:t.num,deliveryNum:0,stock:{goods:{id:t.goods.id,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},warehouse:{id:t.wid,code:"",name:"",place:"",extend:""}}})}),this.saleReceipt.saleOrder.state="COMPLETE",this.saleReceipt.saleOrder.saleInfos.forEach(function(t){t.shipment<t.number&&(e.saleReceipt.saleOrder.state="INCOMPLETE")}),b("/saleOrderAPI/",this.saleReceipt.saleOrder).then(function(t){h("/saleReceiptAPI/",e.saleReceipt).then(function(t){e.jump(),e.receiptDialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("创建销售退货单失败,请检查单号是否重复")})}).catch(function(t){console.log(t),e.$message.error("修改销售订单失败，请检查单号是否重复")})},delivery_confirm:function(){var e=this;this.saleDelivery.date=new Date,this.saleDelivery.waters=[],this.saleDelivery.saleOrder.saleInfos.forEach(function(t){t.shipment+=t.num,e.saleDelivery.waters.push({documentName:"销售出库单",documentCode:e.deliveryPrefix+e.saleDelivery.code,date:e.saleDelivery.date,receiptNum:0,deliveryNum:t.num,stock:{id:t.stock,goods:{id:0,code:"",name:"",specification:"",goodsType:{id:"",code:"",name:"",codingPrefix:""},unit:{id:"",code:"",description:""},brand:"",price:"",max:null,min:null},warehouse:{id:0,code:"",name:"",place:"",extend:""}}})}),this.saleDelivery.saleOrder.state="COMPLETE",this.saleDelivery.saleOrder.saleInfos.forEach(function(t){t.shipment<t.number&&(e.saleDelivery.saleOrder.state="INCOMPLETE")}),b("/saleOrderAPI/",this.saleDelivery.saleOrder).then(function(t){h("/saleDeliveryAPI/",e.saleDelivery).then(function(t){e.jump(),e.deliveryDialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("创建销售出库单失败,请检查单号是否重复")})}).catch(function(t){console.log(t),e.$message.error("修改销售订单失败，请检查单号是否重复")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){g("/saleOrderAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.isAdd=!1,this.saleOrder=e.row,this.dialogVisible=!0},receipt:function(e){this.saleReceipt.saleOrder=e.row,this.receiptDialogVisible=!0},delivery:function(e){this.saleDelivery.saleOrder=e.row,this.deliveryDialogVisible=!0},formatter:function(e,t,a){return F(a)},code_formatter:function(e,t,a){return this.prefix+a},stateFormatter:function(e,t,a){return"INVALID"===a?"报废":"INCOMPLETE"===a?"未完成":"已完成"},removesaleInfo:function(e){var t=this.saleOrder.saleInfos.indexOf(e);-1!==t&&this.saleOrder.saleInfos.splice(t,1)},addsaleInfo:function(){this.saleOrder.saleInfos.push({goods:{id:null}})}},mounted:function(){this.init()}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.deliveryDialogVisible,width:"50%","before-close":e.Dclose,title:"销售出库单"},on:{"update:visible":function(t){e.deliveryDialogVisible=t}}},[a("el-form",{attrs:{model:e.saleDelivery,"label-width":"100px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销售订单编号:"}},[a("el-input",{attrs:{placeholder:"请输入销售订单编号",disabled:""},model:{value:e.saleDelivery.saleOrder.code,callback:function(t){e.$set(e.saleDelivery.saleOrder,"code",t)},expression:"saleDelivery.saleOrder.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.prefix))])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销售出库单编号:"}},[a("el-input",{attrs:{placeholder:"请输入销售出库单编号",autofocus:""},model:{value:e.saleDelivery.code,callback:function(t){e.$set(e.saleDelivery,"code",t)},expression:"saleDelivery.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.deliveryPrefix))])],2)],1)],1)],1),e._v(" "),e._l(e.saleDelivery.saleOrder.saleInfos,function(t){return a("div",{key:t.id},[a("el-form-item",{attrs:{label:"商品信息:"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品",disabled:""},model:{value:t.goods.id,callback:function(a){e.$set(t.goods,"id",a)},expression:"saleInfo.goods.id"}},e._l(e.goodsAll,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择到货日期",disabled:""},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"saleInfo.date"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入订单数量",disabled:""},model:{value:t.number,callback:function(a){e.$set(t,"number",e._n(a))},expression:"saleInfo.number"}},[a("template",{slot:"prepend"},[e._v("订单数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入到货数量",disabled:""},model:{value:t.shipment,callback:function(a){e.$set(t,"shipment",e._n(a))},expression:"saleInfo.shipment"}},[a("template",{slot:"prepend"},[e._v("到货数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择仓库"},nativeOn:{click:function(a){e.getWarehouse(t.goods.id)}},model:{value:t.stock,callback:function(a){e.$set(t,"stock",a)},expression:"saleInfo.stock"}},e._l(e.stocks,function(e){return a("el-option",{key:e.id,attrs:{label:e.warehouse.code+"-"+e.warehouse.name+":"+e.number,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入出库数量"},model:{value:t.num,callback:function(a){e.$set(t,"num",e._n(a))},expression:"saleInfo.num"}},[a("template",{slot:"prepend"},[e._v("出库数量")])],2)],1)],1)],1)],1)}),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.saleDelivery.extend,callback:function(t){e.$set(e.saleDelivery,"extend",t)},expression:"saleDelivery.extend"}})],1)],2),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.Dclose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.delivery_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.receiptDialogVisible,width:"50%","before-close":e.Rclose,title:"销售退货单"},on:{"update:visible":function(t){e.receiptDialogVisible=t}}},[a("el-form",{attrs:{model:e.saleReceipt,"label-width":"100px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销售订单编号:"}},[a("el-input",{attrs:{placeholder:"请输入销售订单编号",disabled:""},model:{value:e.saleReceipt.saleOrder.code,callback:function(t){e.$set(e.saleReceipt.saleOrder,"code",t)},expression:"saleReceipt.saleOrder.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.prefix))])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销售退货编号:"}},[a("el-input",{attrs:{placeholder:"请输入销售退货单编号",autofocus:""},model:{value:e.saleReceipt.code,callback:function(t){e.$set(e.saleReceipt,"code",t)},expression:"saleReceipt.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.receiptPrefix))])],2)],1)],1)],1),e._v(" "),e._l(e.saleReceipt.saleOrder.saleInfos,function(t){return a("div",{key:t.id},[a("el-form-item",{attrs:{label:"商品信息:"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品",disabled:""},model:{value:t.goods.id,callback:function(a){e.$set(t.goods,"id",a)},expression:"saleInfo.goods.id"}},e._l(e.goodsAll,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择到货日期",disabled:""},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"saleInfo.date"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入退货数量",disabled:""},model:{value:t.number,callback:function(a){e.$set(t,"number",e._n(a))},expression:"saleInfo.number"}},[a("template",{slot:"prepend"},[e._v("退货数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入到货数量",disabled:""},model:{value:t.shipment,callback:function(a){e.$set(t,"shipment",e._n(a))},expression:"saleInfo.shipment"}},[a("template",{slot:"prepend"},[e._v("到货数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入退货数量"},model:{value:t.num,callback:function(a){e.$set(t,"num",e._n(a))},expression:"saleInfo.num"}},[a("template",{slot:"prepend"},[e._v("退货数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择仓库"},model:{value:t.wid,callback:function(a){e.$set(t,"wid",a)},expression:"saleInfo.wid"}},e._l(e.warehouses,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1)],1)],1)],1)}),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.saleReceipt.extend,callback:function(t){e.$set(e.saleReceipt,"extend",t)},expression:"saleReceipt.extend"}})],1)],2),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.Rclose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.receipt_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"50%","before-close":e.close,title:"销售订单信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.saleOrder,"label-width":"100px",size:"small"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销售订单编号:"}},[a("el-input",{attrs:{placeholder:"请输入销售订单编号",autofocus:""},model:{value:e.saleOrder.code,callback:function(t){e.$set(e.saleOrder,"code",t)},expression:"saleOrder.code"}},[a("template",{slot:"prepend"},[e._v(e._s(this.prefix))])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户名称:"}},[a("el-input",{attrs:{placeholder:"请输入供应商名称"},model:{value:e.saleOrder.customer,callback:function(t){e.$set(e.saleOrder,"customer",t)},expression:"saleOrder.customer"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.saleOrder.extend,callback:function(t){e.$set(e.saleOrder,"extend",t)},expression:"saleOrder.extend"}})],1)],1)],1),e._v(" "),e._l(e.saleOrder.saleInfos,function(t){return a("div",{key:t.id},[a("el-form-item",{attrs:{label:"商品信息:"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择商品"},model:{value:t.goods.id,callback:function(a){e.$set(t.goods,"id",a)},expression:"saleInfo.goods.id"}},e._l(e.goodsAll,function(e){return a("el-option",{key:e.id,attrs:{label:e.code+"-"+e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择到货日期"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"saleInfo.date"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入订单数量"},model:{value:t.number,callback:function(a){e.$set(t,"number",e._n(a))},expression:"saleInfo.number"}},[a("template",{slot:"prepend"},[e._v("数量")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-input",{attrs:{placeholder:"请输入采购价格"},model:{value:t.price,callback:function(a){e.$set(t,"price",e._n(a))},expression:"saleInfo.price"}},[a("template",{slot:"prepend"},[e._v("价格")])],2)],1),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.extend,callback:function(a){e.$set(t,"extend",a)},expression:"saleInfo.extend"}},[a("template",{slot:"prepend"},[e._v("备注")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:8}},[a("el-button",{attrs:{type:"danger"},on:{click:function(a){a.preventDefault(),e.removesaleInfo(t)}}},[e._v("删除")])],1)],1)],1)],1)}),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){t.preventDefault(),e.addsaleInfo(t)}}},[e._v("新增销售信息")])],2),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),e.isAdd?a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.add}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.saleOrders,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"code",label:"订单编号",formatter:e.code_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customer",label:"客户名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"date",label:"单据日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"state",label:"订单状态",formatter:e.stateFormatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delivery(t)}}},[e._v("出库")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.receipt(t)}}},[e._v("退货")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var q=a("VU/8")(J,K,!1,function(e){a("wGQU")},"data-v-3e1b3084",null).exports,Y={data:function(){return{totalElements:null,data:{page:0,size:10},receipts:[],prefix:"",receiptPrefix:""}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/saleReceiptAPI/all",this.data).then(function(t){e.receipts=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"销售订单"}).then(function(t){e.prefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"销售退货单"}).then(function(t){e.receiptPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},formatter:function(e,t,a){return L(a)},code_formatter:function(e,t,a){return this.prefix+a},Rcode_formatter:function(e,t,a){return this.receiptPrefix+a}},mounted:function(){this.init()}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.receipts,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"退货单号",formatter:e.Rcode_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"saleOrder.code",label:"销售订单号",formatter:e.code_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var te=a("VU/8")(Y,ee,!1,function(e){a("Dfbh")},"data-v-489a1bc3",null).exports,ae={data:function(){return{totalElements:null,data:{page:0,size:10},deliverys:[],prefix:"",deliveryPrefix:""}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/saleDeliveryAPI/all",this.data).then(function(t){e.deliverys=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"销售订单"}).then(function(t){e.prefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")}),v("/documentsAPI/",{name:"销售出库单"}).then(function(t){e.deliveryPrefix=t.data.extend.pageInfo.prefix}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},formatter:function(e,t,a){return L(a)},code_formatter:function(e,t,a){return this.prefix+a},Dcode_formatter:function(e,t,a){return this.deliveryPrefix+a}},mounted:function(){this.init()}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.deliverys,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"销售单号",formatter:e.Dcode_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"saleOrder.code",label:"销售订单号",formatter:e.code_formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var le=a("VU/8")(ae,ne,!1,function(e){a("Il/y")},"data-v-541c2eba",null).exports,oe={data:function(){return{totalElements:null,data:{page:0,size:10},stocks:[]}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/stockAPI/all",this.data).then(function(t){e.stocks=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()}},mounted:function(){this.init()}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.stocks,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"goods.code",label:"商品编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.name",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"warehouse.name",label:"仓库名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.specification",label:"商品规格"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.brand",label:"商品品牌"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.price",label:"商品单价"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"number",label:"当前库存"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var re=a("VU/8")(oe,ie,!1,function(e){a("6ff5")},"data-v-c5af7690",null).exports,se={data:function(){return{totalElements:null,data:{page:0,size:10},stocks:[]}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/stockAPI/warning",this.data).then(function(t){e.stocks=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()}},mounted:function(){this.init()}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.stocks,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"goods.code",label:"商品编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.name",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"warehouse.name",label:"仓库名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"number",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.min",label:"最小库存"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goods.max",label:"最大库存"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var de=a("VU/8")(se,ce,!1,function(e){a("MJrZ")},"data-v-2adaa9e3",null).exports,ue={data:function(){return{totalElements:null,data:{page:0,size:10},waters:[]}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/waterAPI/all",this.data).then(function(t){e.waters=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},formatter:function(e,t,a){return L(a)}},mounted:function(){this.init()}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.waters,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"documentCode",label:"单据编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"documentName",label:"单据名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"stock.goods.name",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"stock.warehouse.name",label:"仓库名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"receiptNum",label:"入库数量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"deliveryNum",label:"出库数量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"stock.number",label:"当前数量"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var me=a("VU/8")(ue,pe,!1,function(e){a("BZ/A")},"data-v-02f211ef",null).exports,fe={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},dailys:[],daily:{id:0,type:"",trader:"",amount:null,extend:"",date:0,detail:{id:0,date:0,code:"",trader:"",income:0,pay:0,type:"",extend:""}},isAdd:!0,type:["收入","支出"]}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/dailyAPI/all",this.data).then(function(t){e.dailys=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},add:function(){this.isAdd=!0,this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.jump()},confirm:function(){var e=this;this.daily.id=0,this.daily.date=new Date,this.daily.detail.id=0,this.daily.detail.date=this.daily.date,this.daily.detail.code="",this.daily.detail.trader=this.daily.trader,this.daily.detail.type="日常收支",this.daily.detail.extend=this.daily.extend,"收入"===this.daily.type?(this.daily.detail.income=this.daily.amount,this.daily.detail.pay=0):(this.daily.detail.pay=this.daily.amount,this.daily.detail.income=0),h("/dailyAPI/",this.daily).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("新增日常收支失败")})},edit_confirm:function(){var e=this;this.daily.date=new Date,this.daily.detail.date=this.daily.date,this.daily.detail.code="",this.daily.detail.trader=this.daily.trader,this.daily.detail.type="日常收支",this.daily.detail.extend=this.daily.extend,"收入"===this.daily.type?(this.daily.detail.income=this.daily.amount,this.daily.detail.pay=0):(this.daily.detail.pay=this.daily.amount,this.daily.detail.income=0),b("/dailyAPI/",this.daily).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改日常收支失败")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){g("/dailyAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.isAdd=!1,this.daily=e.row,this.dialogVisible=!0},formatter:function(e,t,a){return L(a)}},mounted:function(){this.init()}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"仓库信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.daily,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"收支类型:"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入收支类型",autofocus:""},model:{value:e.daily.type,callback:function(t){e.$set(e.daily,"type",t)},expression:"daily.type"}},e._l(e.type,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"交易商:"}},[a("el-input",{attrs:{placeholder:"请输入交易商"},model:{value:e.daily.trader,callback:function(t){e.$set(e.daily,"trader",t)},expression:"daily.trader"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"金额:"}},[a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:e.daily.amount,callback:function(t){e.$set(e.daily,"amount",e._n(t))},expression:"daily.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注:"}},[e.isAdd?a("el-input",{attrs:{placeholder:"请输入仓库备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.daily.extend,callback:function(t){e.$set(e.daily,"extend",t)},expression:"daily.extend"}}):a("el-input",{attrs:{placeholder:"请输入仓库备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.edit_confirm(t)}},model:{value:e.daily.extend,callback:function(t){e.$set(e.daily,"extend",t)},expression:"daily.extend"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),e.isAdd?a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.add}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dailys,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"type",label:"收支类型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"trader",label:"交易商"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var be=a("VU/8")(fe,he,!1,function(e){a("L/fM")},"data-v-26c6fbd2",null).exports,ge={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},receipts:[],receipt:{id:0,receivable:{id:0,code:"",amountReceived:0,amount:0,state:"",extend:"",date:0,dealer:""},detail:{id:0,date:0,code:"",trader:"",income:0,pay:0,type:"",extend:""},date:0,amount:0,extend:""},price:0}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/financeReceiptAPI/all",this.data).then(function(t){e.receipts=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},close:function(){this.dialogVisible=!1,this.jump()},edit_confirm:function(){var e=this;this.receipt.receivable.amountReceived=this.receipt.receivable.amountReceived-this.price+this.receipt.amount,this.receipt.date=new Date,this.receipt.receivable.amountReceived>=this.receipt.receivable.amount?this.receipt.receivable.state="COMPLETE":this.receipt.receivable.state="INCOMPLETE",this.receipt.detail.date=this.receipt.date,this.receipt.detail.extend=this.receipt.extend,this.receipt.detail.pay=0,this.receipt.detail.income=this.receipt.amount,b("/financeReceiptAPI/",this.receipt).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改支付记录失败")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){e.row.receivable.amountReceived=e.row.receivable.amountReceived-e.row.amount,e.row.receivable.amountReceived>=e.row.receivable.amount?e.row.receivable.state="COMPLETE":e.row.receivable.state="INCOMPLETE",b("/financeReceiptAPI/",e.row).then(function(a){g("/financeReceiptAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(e){console.log(e),t.$message.error("修改收款记录失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.receipt=e.row,this.price=this.receipt.amount,this.dialogVisible=!0},formatter:function(e,t,a){return L(a)}},mounted:function(){this.init()}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"收款信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.receipt,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应收款单号:"}},[a("el-input",{attrs:{placeholder:"请输入应收款单号",disabled:""},model:{value:e.receipt.receivable.code,callback:function(t){e.$set(e.receipt.receivable,"code",t)},expression:"receipt.receivable.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款金额:"}},[a("el-input",{attrs:{placeholder:"请输入收款金额",autofocus:""},model:{value:e.receipt.amount,callback:function(t){e.$set(e.receipt,"amount",e._n(t))},expression:"receipt.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{placeholder:"请输入备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.edit_confirm(t)}},model:{value:e.receipt.extend,callback:function(t){e.$set(e.receipt,"extend",t)},expression:"receipt.extend"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.receipts,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"receivable.code",label:"应收款单号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"收款金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var ye=a("VU/8")(ge,ve,!1,function(e){a("rKNr")},"data-v-71e84c34",null).exports,_e={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},pays:[],pay:{id:0,payable:{id:0,code:"",amountPaid:0,amount:0,state:"",extend:"",date:0,dealer:""},detail:{id:0,date:0,code:"",trader:"",income:0,pay:0,type:"",extend:""},date:0,amount:0,extend:""},price:0}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/payAPI/all",this.data).then(function(t){e.pays=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},close:function(){this.dialogVisible=!1,this.jump()},edit_confirm:function(){var e=this;this.pay.payable.amountPaid=this.pay.payable.amountPaid-this.price+this.pay.amount,this.pay.date=new Date,this.pay.payable.amountPaid>=this.pay.payable.amount?this.pay.payable.state="COMPLETE":this.pay.payable.state="INCOMPLETE",this.pay.detail.date=this.pay.date,this.pay.detail.extend=this.pay.extend,this.pay.detail.income=0,this.pay.detail.pay=this.pay.amount,b("/payAPI/",this.pay).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("修改支付记录失败")})},del:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){e.row.payable.amountPaid=e.row.payable.amountPaid-e.row.amount,e.row.payable.amountPaid>=e.row.payable.amount?e.row.payable.state="COMPLETE":e.row.payable.state="INCOMPLETE",b("/payAPI/",e.row).then(function(a){g("/payAPI/",e.row).then(function(e){t.jump(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(e){console.log(e),t.$message.error("修改支付记录失败")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},edit:function(e){this.pay=e.row,this.price=this.pay.amount,this.dialogVisible=!0},formatter:function(e,t,a){return L(a)}},mounted:function(){this.init()}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"付款信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.pay,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应付款单号:"}},[a("el-input",{attrs:{placeholder:"请输入应付款单号",disabled:""},model:{value:e.pay.payable.code,callback:function(t){e.$set(e.pay.payable,"code",t)},expression:"pay.payable.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款金额:"}},[a("el-input",{attrs:{placeholder:"请输入付款金额",autofocus:""},model:{value:e.pay.amount,callback:function(t){e.$set(e.pay,"amount",e._n(t))},expression:"pay.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{placeholder:"请输入备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.edit_confirm(t)}},model:{value:e.pay.extend,callback:function(t){e.$set(e.pay,"extend",t)},expression:"pay.extend"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.edit_confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pays,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payable.code",label:"应付款单号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"付款金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.del(t)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var ke=a("VU/8")(_e,xe,!1,function(e){a("nPwO")},"data-v-26053830",null).exports,Ie={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},receivables:[],receivable:{id:0,code:"",amountReceived:0,amount:0,state:"",extend:"",date:0,dealer:""},receipt:{id:0,receivable:{id:0,code:"",amountReceived:0,amount:0,state:"",extend:"",date:0,dealer:""},detail:{id:0,date:0,code:"",trader:"",income:0,pay:0,type:"",extend:""},date:0,amount:0,extend:""}}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/receivableAPI/all",this.data).then(function(t){e.receivables=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},close:function(){this.dialogVisible=!1,this.jump()},toReceive:function(e){this.receivable=e.row,this.receipt.receivable=this.receivable,this.dialogVisible=!0},dateFormatter:function(e,t,a){return L(a)},stateFormatter:function(e,t,a){return"INVALID"===a?"报废":"INCOMPLETE"===a?"未付清":"已付清"},confirm:function(){var e=this;this.receipt.id=0,this.receipt.receivable.amountReceived=this.receipt.receivable.amountReceived+this.receipt.amount,this.receipt.date=new Date,this.receipt.receivable.amountReceived>=this.receipt.receivable.amount?this.receipt.receivable.state="COMPLETE":this.receipt.receivable.state="INCOMPLETE",this.receipt.detail.id=0,this.receipt.detail.code=this.receipt.receivable.code,this.receipt.detail.date=this.receipt.date,this.receipt.detail.extend=this.receipt.extend,this.receipt.detail.income=this.receipt.amount,this.receipt.detail.pay=0,this.receipt.detail.type="收款",this.receipt.detail.trader=this.receipt.receivable.dealer,h("/financeReceiptAPI/",this.receipt).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("收款失败")})}},mounted:function(){this.init()}},we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"收款信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.receipt,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应收款单号:"}},[a("el-input",{attrs:{placeholder:"请输入应收款单号",disabled:""},model:{value:e.receipt.receivable.code,callback:function(t){e.$set(e.receipt.receivable,"code",t)},expression:"receipt.receivable.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款金额:"}},[a("el-input",{attrs:{placeholder:"请输入付款金额",autofocus:""},model:{value:e.receipt.amount,callback:function(t){e.$set(e.receipt,"amount",e._n(t))},expression:"receipt.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{placeholder:"请输入备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.receipt.extend,callback:function(t){e.$set(e.receipt,"extend",t)},expression:"receipt.extend"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.receivables,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.dateFormatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"应收款单号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"dealer",label:"交易商"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amountReceived",label:"已收金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"state",label:"账单状态",formatter:e.stateFormatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.toReceive(t)}}},[e._v("收款")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var $e=a("VU/8")(Ie,we,!1,function(e){a("NFj0")},"data-v-1d912756",null).exports,Oe={data:function(){return{dialogVisible:!1,totalElements:null,data:{page:0,size:10},payables:[],payable:{id:0,code:"",amountPaid:0,amount:0,state:"",extend:"",date:0,dealer:""},pay:{id:0,payable:{id:0,code:"",amountPaid:0,amount:0,state:"",extend:"",date:0,dealer:""},detail:{id:0,date:0,code:"",trader:"",income:0,pay:0,type:"",extend:""},date:0,amount:0,extend:""}}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/payableAPI/all",this.data).then(function(t){e.payables=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},close:function(){this.dialogVisible=!1,this.jump()},toPay:function(e){this.payable=e.row,this.pay.payable=this.payable,this.dialogVisible=!0},dateFormatter:function(e,t,a){return L(a)},stateFormatter:function(e,t,a){return"INVALID"===a?"报废":"INCOMPLETE"===a?"未付清":"已付清"},confirm:function(){var e=this;this.pay.id=0,this.pay.payable.amountPaid=this.pay.payable.amountPaid+this.pay.amount,this.pay.date=new Date,this.pay.payable.amountPaid>=this.pay.payable.amount?this.pay.payable.state="COMPLETE":this.pay.payable.state="INCOMPLETE",this.pay.detail.id=0,this.pay.detail.code=this.pay.payable.code,this.pay.detail.date=this.pay.date,this.pay.detail.extend=this.pay.extend,this.pay.detail.income=0,this.pay.detail.pay=this.pay.amount,this.pay.detail.type="付款",this.pay.detail.trader=this.pay.payable.dealer,h("/payAPI/",this.pay).then(function(t){e.jump(),e.dialogVisible=!1}).catch(function(t){console.log(t),e.$message.error("支付失败")})}},mounted:function(){this.init()}},Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%","before-close":e.close,title:"付款信息"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.pay,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应付款单号:"}},[a("el-input",{attrs:{placeholder:"请输入应付款单号",disabled:""},model:{value:e.pay.payable.code,callback:function(t){e.$set(e.pay.payable,"code",t)},expression:"pay.payable.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款金额:"}},[a("el-input",{attrs:{placeholder:"请输入付款金额",autofocus:""},model:{value:e.pay.amount,callback:function(t){e.$set(e.pay,"amount",e._n(t))},expression:"pay.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{placeholder:"请输入备注"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.confirm(t)}},model:{value:e.pay.extend,callback:function(t){e.$set(e.pay,"extend",t)},expression:"pay.extend"}})],1)],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.payables,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.dateFormatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"应付款单号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"dealer",label:"交易商"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amountPaid",label:"已付金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"state",label:"账单状态",formatter:e.stateFormatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.toPay(t)}}},[e._v("支付")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var Pe=a("VU/8")(Oe,Ee,!1,function(e){a("dyzt")},"data-v-229c3640",null).exports,Ve={data:function(){return{totalElements:null,data:{page:0,size:10},details:[]}},methods:{init:function(){this.data.page=0,this.jump()},jump:function(){var e=this;v("/detailAPI/all",this.data).then(function(t){e.details=t.data.extend.pageInfo.content,e.totalElements=t.data.extend.pageInfo.totalElements}).catch(function(t){console.log(t),e.$message.error("数据请求失败")})},currentChange:function(e){this.data.page=e-1,this.jump()},formatter:function(e,t,a){return L(a)}},mounted:function(){this.init()}},Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.details,border:"",size:"small"}},[a("el-table-column",{attrs:{fixed:"",align:"center",prop:"date",label:"日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"交易单号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"trader",label:"交易商"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"income",label:"收入金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pay",label:"支出金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"type",label:"交易类型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"extend",label:"备注"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalElements},on:{"current-change":e.currentChange}})],1)},staticRenderFns:[]};var De=a("VU/8")(Ve,Ae,!1,function(e){a("aQJ7")},"data-v-314b9914",null).exports;n.default.use(s.a);var Re=new s.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:I},{path:"/home",name:"基础数据",component:I,meta:{index:"1"},children:[{path:"/home/base/documents",name:"单据信息",component:O,meta:{index:"1-1"}},{path:"/home/base/unit",name:"单位设置",component:V,meta:{index:"1-2"}},{path:"/home/base/warehouse",name:"仓库信息",component:R,meta:{index:"1-3"}},{path:"/home/base/goodsType",name:"货物类别",component:j,meta:{index:"1-4"}},{path:"/home/base/goods",name:"货物信息",component:M,meta:{index:"1-5"}}]},{path:"/home",name:"采购单据",component:I,meta:{index:"2"},children:[{path:"/home/purchase/order",name:"采购订单",component:B,meta:{index:"2-1"}},{path:"/home/purchase/receipt",name:"采购入库单",component:Q,meta:{index:"2-2"}},{path:"/home/purchase/delivery",name:"采购退货单",component:Z,meta:{index:"2-3"}}]},{path:"/home",name:"销售单据",component:I,meta:{index:"3"},children:[{path:"/home/sale/order",name:"销售订单",component:q,meta:{index:"3-1"}},{path:"/home/sale/delivery",name:"销售出库单",component:le,meta:{index:"3-2"}},{path:"/home/sale/receipt",name:"销售退货单",component:te,meta:{index:"3-3"}}]},{path:"/home",name:"库存管理",component:I,meta:{index:"5"},children:[{path:"/home/stock/warning",name:"库存预警",component:de,meta:{index:"5-1"}},{path:"/home/stock/detail",name:"库存明细",component:re,meta:{index:"5-2"}},{path:"/home/stock/water",name:"流水账单",component:me,meta:{index:"5-3"}}]},{path:"/home",name:"财务管理",component:I,meta:{index:"6"},children:[{path:"/home/finance/daily",name:"日常收支",component:be,meta:{index:"6-1"}},{path:"/home/finance/receipt",name:"收款记录",component:ye,meta:{index:"6-2"}},{path:"/home/finance/pay",name:"付款记录",component:ke,meta:{index:"6-3"}},{path:"/home/finance/receivables",name:"应收款记录",component:$e,meta:{index:"6-4"}},{path:"/home/finance/payable",name:"应付款记录",component:Pe,meta:{index:"6-5"}},{path:"/home/finance/detail",name:"收支明细",component:De,meta:{index:"6-6"}}]}]});n.default.use(r.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:Re,components:{App:o},template:"<App/>"})},NZC9:function(e,t){},NfyS:function(e,t){},QiAk:function(e,t){},X3tF:function(e,t){},XUx2:function(e,t){},aQJ7:function(e,t){},dyzt:function(e,t){},k0ax:function(e,t){},mwXi:function(e,t){},nPwO:function(e,t){},rHWB:function(e,t){},rKNr:function(e,t){},tvR6:function(e,t){},wGQU:function(e,t){},wtaa:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e1607b91364c5cc85fc2.js.map